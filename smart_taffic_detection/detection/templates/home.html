{% extends "base.html" %}
{% load static %}


{% block title %}
{% endblock %}

{% block content %}

<div class = "content" style="margin: auto;">
  <div class ="container1" style="margin-left: 100px;">
    <form action ="" class ="search-bar">
      <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
    
      <input type ="search" placeholder="Search" name="searched">
    </form>
    <div class = "task" style="margin-left: 300px;">
      <button style="width: 200px; height: 36px; border-radius: 60px;">
        <a href="{% url 'uploadPage' %}" style="text-decoration: none; font-size: 20px; color: #F2F2F0;"> + New task</a>
      </button>
    </div>
  </div>
    

<table rowspan="2" style="margin: auto;">
    <thead>
        <tr>
            <th> Date </th>
            <th> Name </th>
            <th> Location </th>
            <th> Status </th>
            <th> Date <br> Upload </th>
            <th> Owner <br> (username)</th>
            <th> </th>
        </tr>
    </thead>
    <tbody>
        {% for task in task %}
        <tr>
          <td>{{ task.date_record }} {{ task.time_record }} </td>
          <td>{{ task.intersection }}</td>
          <td>{{ task.location }}</td>
          {% if task.detect_status == 0 %}
          <td>pending... </td>
          {% elif task.detect_status == 1 %}
          <td>processing...</td>
          {% else %}
          <td>complete!</td>
          {% endif %}
          <td>{{ task.date_upload }}</td>
          <td>{{ task.ownerName}}</td>
          <td><a class="btn btn-outline-secondary" style="width: 82px; height: 37px;" href="{% url 'edit' task.id %}">Edit</a>
            <a class="btn btn-outline-info" style="width: 82px; height: 37px;" href="{% url 'generalInfo' task.id %}">Detail</a><br>
            <a class="btn btn-outline-danger"   href="{% url 'delete' task.id %}">Delete</a> 
          
          </td>
        {%endfor%}
    </tbody>
</table>

</div>


{% endblock %}